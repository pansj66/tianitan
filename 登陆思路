js(ajax显示用户存在)
函数封装
数据校验

2.记住用户名
记住用户名,使用cookie
(把勾选的值传到视图)
要清空浏览器数据

复选框有一个checked选项,就是表示已经选中

# (预习)登录要保存在session中,把session放在redis中,用Django-redis来存储

当访问用户中心的时候要进行登录验证,使用装饰器


render(request)中的request在html中是可以使用的
登录后跳转到之前访问的页面
设置中间件函数时要进行注册
request.is_ajax()是ajax就返回true
request.session.has_key("键名")
记录的连接为:不在那些地址,不是ajax请求,并且是用GET请求


用户地址页
添加收货地址
创建地址模型类,迁移数据
提交时,跳转视图
视图处理数据,并添加到数据,(如果第一次添加地址,就设置为默认地址,反之不设)
查询数据库get方法时,如果查询不到,就会报self.model.DoesNotExist:错误,捕获,

添加完收货地址要进行刷新
在显示address页面的时候要进行查询默认地址,并返回

通过提交的请求方式不同可以判断出是添加地址页面还是显示页面

限定address的请求方式,通过装饰器来实现
django自定义了这些装饰器
(django.views.http)


用户信息页
显示的时候要把用户信息和最近浏览信息传递到html

保存用户历史浏览信息
1,查看商品详情页面的时候,添加历史浏览记录
2,用户中心-信息页, 获取用户历史浏览信息

保存到redis中,
每个用户的历史记录使用一条数据保存,通过list来保存商品id